# ModernNav - ä¸ªäººå¯¼èˆªä»ªè¡¨ç›˜

ModernNav æ˜¯ä¸€ä¸ªç°ä»£ã€æç®€çš„å¡ç‰‡å¼å¯¼èˆªä»ªè¡¨ç›˜ï¼Œé‡‡ç”¨æ¯›ç»ç’ƒï¼ˆGlassmorphismï¼‰è®¾è®¡é£æ ¼ã€‚å®ƒæ—¨åœ¨æˆä¸ºä¸€ä¸ªç¾è§‚ã€å¯é«˜åº¦è‡ªå®šä¹‰çš„æµè§ˆå™¨èµ·å§‹é¡µæˆ–ä¹¦ç­¾ç®¡ç†å™¨ã€‚

æœ¬é¡¹ç›®åŸºäº **React**ã€**Tailwind CSS** å’Œ **Cloudflare Pages** (Functions + D1 Database) æ„å»ºã€‚

[English Documentation](README_en.md) | [ä¸­æ–‡æ–‡æ¡£](README.md)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- **ğŸ¨ æƒŠè‰³çš„ UI è®¾è®¡:** é‡‡ç”¨è‡ªé€‚åº”æ¯›ç»ç’ƒç‰¹æ•ˆï¼ˆGlassmorphismï¼‰ï¼Œæ‹¥æœ‰æµç•…çš„åŠ¨ç”»æ•ˆæœå’Œå“åº”å¼å¸ƒå±€ã€‚
- **ğŸŒ“ æ·±è‰²/æµ…è‰²æ¨¡å¼:** æ”¯æŒè‡ªåŠ¨ä¸»é¢˜åˆ‡æ¢ï¼Œå¹¶èƒ½ä»èƒŒæ™¯å›¾ç‰‡ä¸­æ™ºèƒ½æå–ä¸»è‰²è°ƒã€‚
- **ğŸ–±ï¸ æ‹–æ‹½æ’åº:** åœ¨ç®¡ç†ç•Œé¢é€šè¿‡æ‹–æ‹½è½»æ¾è°ƒæ•´åˆ†ç±»å’Œé“¾æ¥çš„é¡ºåºã€‚
- **ğŸ–¼ï¸ é«˜åº¦ä¸ªæ€§åŒ–:** æ”¯æŒæ›´æ¢èƒŒæ™¯å›¾ç‰‡ã€è°ƒèŠ‚å¡ç‰‡æ¨¡ç³Šåº¦å’Œé€æ˜åº¦ï¼Œä»¥åŠè‡ªå®šä¹‰ä¸»é¢˜é¢œè‰²ã€‚
- **ğŸ“‚ åˆ†ç»„ç®¡ç†:** æ”¯æŒåˆ›å»ºä¸€çº§åˆ†ç±»å’ŒäºŒçº§å­èœå•ï¼ˆæ–‡ä»¶å¤¹ï¼‰æ¥æ•´ç†é“¾æ¥ã€‚
- **ğŸ” èšåˆæœç´¢:** å†…ç½®æœç´¢æ ï¼Œæ”¯æŒ Googleã€å¿…åº”ã€ç™¾åº¦ã€GitHub ç­‰å¤šç§æœç´¢å¼•æ“åˆ‡æ¢ã€‚
- **ğŸ” æ— çŠ¶æ€å®‰å…¨è®¤è¯:** é‡‡ç”¨ **HMAC ç­¾åæ— çŠ¶æ€è®¤è¯**ã€‚ä¿ç•™ HttpOnly Cookie å’ŒçŸ­æ•ˆè®¿é—®ä»¤ç‰Œçš„åŒé‡å®‰å…¨æœºåˆ¶ï¼Œå…¨é¢é˜²æ­¢ XSS ä¸ CSRF æ”»å‡»ã€‚
- **ğŸ›¡ï¸ æ•°æ®å¥å£®æ€§ä¿æŠ¤:** å†…ç½®ä¸¥æ ¼çš„æ•°æ®ç±»å‹æ ¡éªŒä¸å®¹é”™æœºåˆ¶ï¼Œè‡ªåŠ¨ä¿®å¤å¼‚å¸¸æ•°æ®ç»“æ„ï¼Œæœç»ç™½å±å´©æºƒï¼Œç¡®ä¿ç³»ç»Ÿåœ¨æ•°æ®æ ¼å¼å‡çº§æˆ–å¼‚å¸¸æ—¶ä¾ç„¶ç¨³å®šè¿è¡Œã€‚
- **â˜ï¸ æ™ºèƒ½æ··åˆå­˜å‚¨:**
  - **è¯»å–ç­–ç•¥ (ç½‘ç»œä¼˜å…ˆ):** ä¼˜å…ˆè·å–äº‘ç«¯ D1 æ•°æ®åº“æœ€æ–°æ•°æ®ï¼Œç½‘ç»œå¼‚å¸¸æ—¶è‡ªåŠ¨é™çº§è¯»å–æœ¬åœ°ç¼“å­˜ï¼Œç¡®ä¿é¡µé¢ç§’å¼€ä¸”åœ¨ç¦»çº¿çŠ¶æ€ä¸‹ä¾ç„¶å¯ç”¨ã€‚
  - **å†™å…¥ç­–ç•¥ (ä¹è§‚æ›´æ–°):** ä¿®æ”¹é…ç½®ç«‹å³ç”Ÿæ•ˆï¼Œæ— éœ€ç­‰å¾…æœåŠ¡å™¨å“åº”ï¼Œå¹¶åœ¨åå°é™é»˜åŒæ­¥è‡³ Cloudflare D1ï¼Œæä¾›ä¸æ»‘æµç•…çš„æ“ä½œä½“éªŒã€‚
- **ğŸŒ å›½é™…åŒ–:** å†…ç½®è‹±è¯­å’Œç®€ä½“ä¸­æ–‡æ”¯æŒã€‚
- **ğŸ’¾ å…¨é‡å¤‡ä»½:** æ”¯æŒå°†æ‰€æœ‰æ•°æ®ï¼ˆåˆ†ç±»ã€é“¾æ¥ã€èƒŒæ™¯è®¾ç½®ã€åå¥½è®¾ç½®ï¼‰å¯¼å‡ºä¸º JSON æ–‡ä»¶ï¼Œæˆ–éšæ—¶ä¸€é”®æ¢å¤ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯:** React 19, Vite, Tailwind CSS, Lucide React
- **åç«¯:** Cloudflare Pages Functions (Serverless æ— æœåŠ¡å™¨å‡½æ•°)
- **æ•°æ®åº“:** Cloudflare D1 (Serverless SQL Database)
- **é‰´æƒ:** æ— çŠ¶æ€ JWT (HMAC-SHA256) + HttpOnly Cookie
- **è¯­è¨€:** TypeScript

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js (v18 æˆ–æ›´é«˜ç‰ˆæœ¬)
- npm æˆ– yarn

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. æœ¬åœ°å¼€å‘ (ä»…å‰ç«¯)

å¦‚æœæ‚¨åªæƒ³ä¿®æ”¹ UI ç•Œé¢ï¼ˆæ•°æ®å°†å­˜å‚¨åœ¨ LocalStorageï¼‰ï¼š

```bash
npm run dev
```

### 3. æœ¬åœ°å¼€å‘ (å…¨æ ˆ + Cloudflare æ¨¡æ‹Ÿ)

è¦åœ¨æœ¬åœ°æµ‹è¯•åç«¯ API å’Œ D1 å­˜å‚¨ï¼Œæ‚¨éœ€è¦å®‰è£… `wrangler` CLI å·¥å…·ã€‚

1.  å®‰è£… Wrangler:

    ```bash
    npm install -D wrangler
    ```

2.  åˆå§‹åŒ–æœ¬åœ°æ•°æ®åº“è¡¨ç»“æ„:

    ```bash
    npx wrangler d1 execute modern-nav-db --local --file=./schema.sql
    ```

3.  è¿è¡Œ Cloudflare Pages æ¨¡æ‹Ÿç¯å¢ƒ:
    ```bash
    npx wrangler pages dev . --d1 DB=modern-nav-db
    ```
    _è¿™å°†åœ¨æœ¬åœ°æ¨¡æ‹Ÿ Cloudflare çš„è¿è¡Œç¯å¢ƒã€‚_

## ğŸ“¦ éƒ¨ç½²æŒ‡å— (Cloudflare Pages)

æœ¬é¡¹ç›®ä¸“ä¸º **Cloudflare Pages** ä¼˜åŒ–ã€‚

### ç¬¬ä¸€æ­¥: æ¨é€åˆ° Git

å°†æ­¤ä»“åº“ Fork åˆ°æ‚¨çš„ GitHub æˆ– GitLab ä»“åº“ã€‚

### ç¬¬äºŒæ­¥: åˆ›å»º Cloudflare é¡¹ç›®

1.  ç™»å½• [Cloudflare Dashboard](https://dash.cloudflare.com/)ã€‚
2.  è¿›å…¥ **Workers & Pages** > **Overview** > **Create Application** > **Pages** > **Connect to Git**ã€‚
3.  é€‰æ‹©æ‚¨çš„ä»£ç ä»“åº“ã€‚

### ç¬¬ä¸‰æ­¥: æ„å»ºè®¾ç½® (Build Settings)

- **Framework preset (æ¡†æ¶é¢„è®¾):** é€‰æ‹© `æ— `
- **Build command (æ„å»ºå‘½ä»¤):** `npm run build`
- **Build output directory (è¾“å‡ºç›®å½•):** `dist`

### ç¬¬å››æ­¥: é…ç½®æ•°æ®åº“ (D1)

1.  é¡¹ç›®åˆ›å»ºå®Œæˆåï¼Œåœ¨ Cloudflare ä¾§è¾¹æ ç‚¹å‡» **Workers & Pages** > **D1 SQL Database**ã€‚
2.  ç‚¹å‡» **Create** åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ (ä¾‹å¦‚å‘½åä¸º `modern-nav-db`)ã€‚
3.  ç‚¹å‡»è¿›å…¥è¯¥æ•°æ®åº“ï¼Œé€‰æ‹© **Console** æ ‡ç­¾é¡µã€‚
4.  **é‡è¦:** æ‰“å¼€é¡¹ç›®ä¸­çš„ `schema.sql` æ–‡ä»¶ï¼Œå¤åˆ¶å…¶ä¸­çš„ SQL è¯­å¥å¹¶åœ¨ Console ä¸­ **Execute**ï¼Œä»¥åˆå§‹åŒ–è¡¨ç»“æ„å’Œé»˜è®¤å¯†ç ã€‚
5.  å›åˆ°æ‚¨åˆšæ‰åˆ›å»ºçš„ Pages é¡¹ç›®é¡µé¢: ç‚¹å‡» **Settings** > **Functions** > **D1 Database Bindings**ã€‚
6.  æ·»åŠ ç»‘å®š (Add binding):
    - **Variable name (å˜é‡å):** å¿…é¡»å¡«å†™ `DB` (å¿…é¡»å®Œå…¨ä¸€è‡´)ã€‚
    - **D1 Database:** é€‰æ‹©æ‚¨åˆšæ‰åˆ›å»ºçš„ `modern-nav-db`ã€‚
7.  **ä¿å­˜** å¹¶ **é‡æ–°éƒ¨ç½²** (è¿›å…¥ Deployments > ç‚¹å‡»æœ€æ–°éƒ¨ç½²å³ä¾§çš„ä¸‰ä¸ªç‚¹ > Retry deployment)ã€‚

## âš™ï¸ é…ç½®ä¸ä½¿ç”¨

### åˆå§‹åŒ–è®¾ç½®

1.  æ‰“å¼€éƒ¨ç½²å¥½çš„ç½‘ç«™ã€‚
2.  ç‚¹å‡»å³ä¸Šè§’çš„ **è®¾ç½® (é½¿è½®å›¾æ ‡)**ã€‚
3.  è¾“å…¥é»˜è®¤è®¿é—®ä»£ç : `admin`ã€‚
4.  **é‡è¦æç¤º:** è¯·ç«‹å³è¿›å…¥ "å®‰å…¨è®¾ç½® (Security)" é€‰é¡¹å¡ä¿®æ”¹æ‚¨çš„è®¿é—®ä»£ç ã€‚

### ä¸ªæ€§åŒ–

- **å†…å®¹ç®¡ç†:** åœ¨ "å†…å®¹ç®¡ç†" æ ‡ç­¾é¡µæ·»åŠ åˆ†ç±»ã€å­èœå•å’Œé“¾æ¥ï¼Œæ”¯æŒæ‹–æ‹½æ’åºã€‚
- **å¤–è§‚è®¾ç½®:** åœ¨ "å¤–è§‚è®¾ç½®" æ ‡ç­¾é¡µæ›´æ”¹èƒŒæ™¯å›¾ç‰‡ URL å’Œè°ƒèŠ‚å¡ç‰‡é€æ˜åº¦ã€‚

## ğŸ“‚ é¡¹ç›®ç»“æ„

```text
â”œâ”€â”€ public/                     # é™æ€èµ„æº
â”‚   â”œâ”€â”€ favicon.svg             # ç«™ç‚¹å›¾æ ‡
â”‚   â””â”€â”€ fonts/                  # å­—ä½“æ–‡ä»¶
â”œâ”€â”€ functions/api/              # Cloudflare Pages Functions (åç«¯ API)
â”‚   â”œâ”€â”€ auth.ts                 # é‰´æƒæ¥å£ (ç™»å½•/åˆ·æ–°/ä¿®æ”¹å¯†ç )
â”‚   â”œâ”€â”€ bootstrap.ts            # åˆå§‹åŒ–æ•°æ®æ¥å£ (Read D1)
â”‚   â”œâ”€â”€ update.ts               # æ•°æ®åŒæ­¥æ¥å£ (Write D1)
â”‚   â””â”€â”€ utils/                  # åç«¯å·¥å…·å‡½æ•° (é‰´æƒ/éªŒè¯/æ—¥å¿—)
â”œâ”€â”€ src/                        # å‰ç«¯æºä»£ç 
â”‚   â”œâ”€â”€ assets/                 # é™æ€èµ„æºå¼•ç”¨
â”‚   â”œâ”€â”€ components/             # React UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ settings/           # è®¾ç½®æ¨¡æ€æ¡†ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ AppearanceTab.tsx   # å¤–è§‚è®¾ç½®é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthScreen.tsx      # è®¤è¯/ç™»å½•é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ ContentTab.tsx      # å†…å®¹ç®¡ç†é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ DataTab.tsx         # æ•°æ®å¤‡ä»½/æ¢å¤é¡µ
â”‚   â”‚   â”‚   â””â”€â”€ SecurityTab.tsx     # å®‰å…¨è®¾ç½®é¡µ
â”‚   â”‚   â”œâ”€â”€ CategoryNav.tsx     # ä¾§è¾¹/é¡¶éƒ¨å¯¼èˆªæ 
â”‚   â”‚   â”œâ”€â”€ GlassCard.tsx       # æ¯›ç»ç’ƒå¡ç‰‡ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ IconPicker.tsx      # å›¾æ ‡é€‰æ‹©ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ LinkManagerModal.tsx # è®¾ç½®å¼¹çª—å®¹å™¨
â”‚   â”‚   â”œâ”€â”€ SearchBar.tsx       # æœç´¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ SyncIndicator.tsx   # åŒæ­¥çŠ¶æ€æŒ‡ç¤ºå™¨
â”‚   â”‚   â””â”€â”€ Toast.tsx           # å…¨å±€æç¤ºç»„ä»¶
â”‚   â”œâ”€â”€ contexts/               # å…¨å±€çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ LanguageContext.tsx # å¤šè¯­è¨€ Context
â”‚   â”œâ”€â”€ hooks/                  # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â””â”€â”€ useCategoryDragDrop.ts # æ‹–æ‹½æ’åºé€»è¾‘
â”‚   â”œâ”€â”€ services/               # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”‚   â””â”€â”€ storage.ts          # æ•°æ®å­˜å‚¨ä¸åŒæ­¥æœåŠ¡ (æ ¸å¿ƒ)
â”‚   â”œâ”€â”€ types/                  # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ index.ts            # ç±»å‹å£°æ˜å…¥å£
â”‚   â”œâ”€â”€ utils/                  # å‰ç«¯å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ color.ts            # é¢œè‰²æå–å·¥å…·
â”‚   â”œâ”€â”€ App.tsx                 # åº”ç”¨æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ constants.tsx           # å¸¸é‡é…ç½®
â”‚   â”œâ”€â”€ index.tsx               # åº”ç”¨å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ index.css               # å…¨å±€æ ·å¼ (Tailwind)
â”œâ”€â”€ index.html                  # HTML æ¨¡æ¿
â”œâ”€â”€ vite.config.ts              # Vite æ„å»ºé…ç½®
â”œâ”€â”€ tsconfig.json               # TypeScript é…ç½®
â””â”€â”€ wrangler.toml               # Cloudflare Pages é…ç½®
```

## ğŸ“„ è®¸å¯è¯

MIT License. ä¾›ä¸ªäººå…è´¹ä½¿ç”¨å’Œä¿®æ”¹ã€‚
